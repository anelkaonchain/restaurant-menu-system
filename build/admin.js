(()=>{"use strict";const e=window.React,t=window.wp.element,a=function({item:a,isCategory:n=!1,onClose:r}){const[o,i]=(0,t.useState)({}),[l,d]=(0,t.useState)({}),[s,c]=(0,t.useState)(""),[m,p]=(0,t.useState)({name:"",description:""}),[g,u]=(0,t.useState)(!1),[y,x]=(0,t.useState)({type:"",text:""});(0,t.useEffect)(()=>{b(),f()},[]),(0,t.useEffect)(()=>{if(y.text){const e=setTimeout(()=>{x({type:"",text:""})},3e3);return()=>clearTimeout(e)}},[y]);const b=async()=>{const e=new FormData;e.append("action","rms_get_languages");try{const t=await fetch(window.rmsAdmin.ajaxUrl,{method:"POST",body:e}),a=await t.json();a.success&&i(a.data)}catch(e){console.error("Load languages error:",e)}},f=async()=>{const e=new FormData;e.append("action",n?"rms_get_category_translations":"rms_get_translations"),e.append("nonce",window.rmsAdmin.nonce),e.append(n?"category_id":"item_id",a.id);try{const t=await fetch(window.rmsAdmin.ajaxUrl,{method:"POST",body:e}),a=await t.json();a.success&&d(a.data)}catch(e){console.error("Load translations error:",e)}};return(0,e.createElement)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.7)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e4,padding:"20px"}},(0,e.createElement)("div",{style:{background:"white",borderRadius:"12px",maxWidth:"900px",width:"100%",maxHeight:"90vh",overflow:"auto",padding:"30px"}},(0,e.createElement)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"}},(0,e.createElement)("h2",{style:{margin:0}},"Translations for: ",a.name),(0,e.createElement)("button",{onClick:r,style:{background:"none",border:"none",fontSize:"30px",cursor:"pointer",color:"#999"}},"Ã—")),y.text&&(0,e.createElement)("div",{style:{padding:"12px 20px",marginBottom:"20px",borderRadius:"4px",background:"success"===y.type?"#d4edda":"#f8d7da",color:"success"===y.type?"#155724":"#721c24",border:"1px solid "+("success"===y.type?"#c3e6cb":"#f5c6cb")}},y.text),(0,e.createElement)("div",{style:{display:"grid",gridTemplateColumns:"1fr 2fr",gap:"20px"}},(0,e.createElement)("div",null,(0,e.createElement)("h3",null,"Languages"),(0,e.createElement)("div",{style:{maxHeight:"400px",overflow:"auto",border:"1px solid #ddd",borderRadius:"8px"}},Object.entries(o).map(([t,a])=>(0,e.createElement)("div",{key:t,onClick:()=>{return c(e=t),void(l[e]?p(n?{name:l[e],description:""}:{name:l[e].name,description:l[e].description}):p({name:"",description:""}));var e},style:{padding:"12px",cursor:"pointer",background:s===t?"#667eea":"white",color:s===t?"white":"#333",borderBottom:"1px solid #eee",display:"flex",justifyContent:"space-between",alignItems:"center"}},(0,e.createElement)("span",null,a," (",t,")"),l[t]&&(0,e.createElement)("span",{style:{background:s===t?"white":"#27ae60",color:s===t?"#667eea":"white",padding:"2px 8px",borderRadius:"10px",fontSize:"11px"}},"âœ“"))))),(0,e.createElement)("div",null,s?(0,e.createElement)(e.Fragment,null,(0,e.createElement)("h3",null,"Edit Translation (",o[s],")"),(0,e.createElement)("div",{style:{marginBottom:"15px"}},(0,e.createElement)("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold"}},"Name *"),(0,e.createElement)("input",{type:"text",className:"regular-text",value:m.name,onChange:e=>p({...m,name:e.target.value}),placeholder:"Translated name",style:{width:"100%",padding:"8px"}})),!n&&(0,e.createElement)("div",{style:{marginBottom:"15px"}},(0,e.createElement)("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold"}},"Description"),(0,e.createElement)("textarea",{className:"large-text",value:m.description,onChange:e=>p({...m,description:e.target.value}),placeholder:"Translated description",rows:"6",style:{width:"100%",padding:"8px"}})),(0,e.createElement)("div",{style:{background:"#f8f9fa",padding:"15px",borderRadius:"8px",marginBottom:"15px"}},(0,e.createElement)("strong",null,"Original (English):"),(0,e.createElement)("div",{style:{marginTop:"8px",color:"#666"}},(0,e.createElement)("div",null,(0,e.createElement)("strong",null,"Name:")," ",a.name),!n&&a.description&&(0,e.createElement)("div",{style:{marginTop:"5px"}},(0,e.createElement)("strong",null,"Description:")," ",a.description))),(0,e.createElement)("button",{className:"button button-primary",onClick:async()=>{if(!s)return void x({type:"error",text:"Please select a language"});if(!m.name.trim())return void x({type:"error",text:"Name is required"});u(!0);const e=new FormData;e.append("action",n?"rms_save_category_translation":"rms_save_translation"),e.append("nonce",window.rmsAdmin.nonce),e.append(n?"category_id":"item_id",a.id),e.append("language_code",s),e.append("name",m.name),n||e.append("description",m.description);try{const t=await fetch(window.rmsAdmin.ajaxUrl,{method:"POST",body:e});(await t.json()).success?(x({type:"success",text:"Translation saved!"}),await f(),c(""),p({name:"",description:""})):x({type:"error",text:"Failed to save translation"})}catch(e){console.error("Save error:",e),x({type:"error",text:"Error saving translation"})}u(!1)},disabled:g,style:{width:"100%"}},g?"Saving...":"Save Translation")):(0,e.createElement)("div",{style:{padding:"40px",textAlign:"center",color:"#999"}},"â† Select a language to add or edit translation")))))},n={en:{common:{add_new:"Add New",edit:"Edit",delete:"Delete",save:"Save",saving:"Saving...",cancel:"Cancel",loading:"Loading...",name:"Name",description:"Description",price:"Price",actions:"Actions",translate:"Translate"},menu_items:{title:"Restaurant Menu",add_new_item:"Add New Item",item_name:"Item Name",item_price:"Price ($)",allergens:"Allergens",category:"Category",select_category:"Select a category",item_image:"Item Image",remove_image:"Remove Image"},categories:{title:"Menu Categories",add_new_category:"Add New Category",category_name:"Category Name",slug:"Slug",count:"Count",items:"items",no_categories:"No categories yet. Click 'Add New Category' to create one.",name_required:"Category name is required",save_success:"Category saved successfully!",save_error:"Failed to save category",delete_confirm:"Are you sure you want to delete this category?",delete_success:"Category deleted successfully!",delete_error:"Failed to delete category",load_error:"Failed to load categories"},orders:{title:"Orders",all:"All",pending:"Pending",preparing:"Preparing",ready:"Ready",delivered:"Delivered",cancelled:"Cancelled",order:"Order",table:"Table",customer_name:"Customer Name",items:"Items",notes:"Notes",total:"Total",start_preparing:"Start Preparing",mark_ready:"Mark Ready",mark_delivered:"Mark Delivered",confirm_delete:"Are you sure?",no_orders:"No orders found"},qrcodes:{title:"QR Codes",add_new_table:"Add New Table",table_number:"Table Number"},settings:{title:"Settings",application_language:"Application Language",admin_panel_language:"Admin Panel Language"}},tr:{common:{add_new:"Yeni Ekle",edit:"DÃ¼zenle",delete:"Sil",save:"Kaydet",saving:"Kaydediliyor...",cancel:"Ä°ptal",loading:"YÃ¼kleniyor...",name:"Ä°sim",description:"AÃ§Ä±klama",price:"Fiyat",actions:"Ä°ÅŸlemler",translate:"Ã‡evir"},menu_items:{title:"Restoran MenÃ¼sÃ¼",add_new_item:"Yeni ÃœrÃ¼n Ekle",item_name:"ÃœrÃ¼n AdÄ±",item_price:"Fiyat ($)",allergens:"Alerjenler",category:"Kategori",select_category:"Bir kategori seÃ§in",item_image:"ÃœrÃ¼n GÃ¶rseli",remove_image:"GÃ¶rseli KaldÄ±r"},categories:{title:"MenÃ¼ Kategorileri",add_new_category:"Yeni Kategori Ekle",category_name:"Kategori AdÄ±",slug:"Slug",count:"Adet",items:"Ã¼rÃ¼n",no_categories:"HenÃ¼z kategori yok. 'Yeni Kategori Ekle' butonuna tÄ±klayÄ±n.",name_required:"Kategori adÄ± gereklidir",save_success:"Kategori baÅŸarÄ±yla kaydedildi!",save_error:"Kategori kaydedilemedi",delete_confirm:"Bu kategoriyi silmek istediÄŸinizden emin misiniz?",delete_success:"Kategori baÅŸarÄ±yla silindi!",delete_error:"Kategori silinemedi",load_error:"Kategoriler yÃ¼klenemedi"},orders:{title:"SipariÅŸler",all:"TÃ¼mÃ¼",pending:"Bekliyor",preparing:"HazÄ±rlanÄ±yor",ready:"HazÄ±r",delivered:"Teslim Edildi",cancelled:"Ä°ptal Edildi",order:"SipariÅŸ",table:"Masa",customer_name:"MÃ¼ÅŸteri AdÄ±",items:"ÃœrÃ¼nler",notes:"Notlar",total:"Toplam",start_preparing:"HazÄ±rlamaya BaÅŸla",mark_ready:"HazÄ±r Olarak Ä°ÅŸaretle",mark_delivered:"Teslim Edildi Olarak Ä°ÅŸaretle",confirm_delete:"Emin misiniz?",no_orders:"SipariÅŸ bulunamadÄ±"},qrcodes:{title:"QR KodlarÄ±",add_new_table:"Yeni Masa Ekle",table_number:"Masa NumarasÄ±"},settings:{title:"Ayarlar",application_language:"Uygulama Dili",admin_panel_language:"YÃ¶netim Paneli Dili"}}};const r=function({item:a,onClose:n}){const[r,o]=(0,t.useState)({}),[i,l]=(0,t.useState)(!1),[d,s]=(0,t.useState)({option_type:"extras",option_name:"",option_price:"0"});(0,t.useEffect)(()=>{c()},[a.id]);const c=async()=>{const e=new FormData;e.append("action","rms_get_item_options"),e.append("nonce",window.rmsAdmin.nonce),e.append("item_id",a.id);try{const t=await fetch(window.rmsAdmin.ajaxUrl,{method:"POST",body:e}),a=await t.json();if(a.success){const e=a.data||{};o(e),console.log("Loaded options:",e)}}catch(e){console.error("Load options error:",e)}};return(0,e.createElement)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.7)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e5}},(0,e.createElement)("div",{style:{background:"white",borderRadius:"12px",padding:"30px",maxWidth:"600px",width:"90%",maxHeight:"80vh",overflow:"auto"}},(0,e.createElement)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"}},(0,e.createElement)("h2",{style:{margin:0}},"Manage Options: ",a.name),(0,e.createElement)("button",{onClick:n,style:{background:"none",border:"none",fontSize:"24px",cursor:"pointer"}},"Ã—")),(0,e.createElement)("div",{style:{background:"#f5f5f5",padding:"20px",borderRadius:"8px",marginBottom:"20px"}},(0,e.createElement)("h3",null,"Add New Option"),(0,e.createElement)("div",{style:{display:"grid",gap:"10px"}},(0,e.createElement)("select",{value:d.option_type,onChange:e=>s({...d,option_type:e.target.value}),style:{padding:"8px",borderRadius:"4px",border:"1px solid #ddd"}},(0,e.createElement)("option",{value:"extras"},"Extras"),(0,e.createElement)("option",{value:"size"},"Size"),(0,e.createElement)("option",{value:"crust"},"Crust Type")),(0,e.createElement)("input",{type:"text",placeholder:"Option name (e.g., Extra Cheese)",value:d.option_name,onChange:e=>s({...d,option_name:e.target.value}),style:{padding:"8px",borderRadius:"4px",border:"1px solid #ddd"}}),(0,e.createElement)("input",{type:"number",step:"0.01",placeholder:"Additional price",value:d.option_price,onChange:e=>s({...d,option_price:e.target.value}),style:{padding:"8px",borderRadius:"4px",border:"1px solid #ddd"}}),(0,e.createElement)("button",{className:"button button-primary",onClick:async()=>{if(!d.option_name.trim())return;l(!0);const e=new FormData;e.append("action","rms_save_item_option"),e.append("nonce",window.rmsAdmin.nonce),e.append("item_id",a.id),e.append("option_type",d.option_type),e.append("option_name",d.option_name),e.append("option_price",d.option_price);try{const t=await fetch(window.rmsAdmin.ajaxUrl,{method:"POST",body:e});(await t.json()).success&&(s({option_type:"extras",option_name:"",option_price:"0"}),await c())}catch(e){console.error("Save option error:",e)}l(!1)},disabled:i},"Add Option"))),r&&0!==Object.keys(r).length?Object.entries(r).map(([t,a])=>Array.isArray(a)?(0,e.createElement)("div",{key:t,style:{marginBottom:"20px"}},(0,e.createElement)("h4",{style:{textTransform:"capitalize",borderBottom:"2px solid #ddd",paddingBottom:"8px"}},t),a.map(t=>(0,e.createElement)("div",{key:t.id,style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"10px",background:"#fafafa",borderRadius:"4px",marginBottom:"8px"}},(0,e.createElement)("span",null,t.option_name),(0,e.createElement)("div",{style:{display:"flex",alignItems:"center",gap:"10px"}},(0,e.createElement)("span",{style:{fontWeight:"bold"}},"+$",parseFloat(t.option_price).toFixed(2)),(0,e.createElement)("button",{className:"button button-small",onClick:()=>(async e=>{if(!confirm("Delete this option?"))return;const t=new FormData;t.append("action","rms_delete_item_option"),t.append("nonce",window.rmsAdmin.nonce),t.append("id",e);try{const e=await fetch(window.rmsAdmin.ajaxUrl,{method:"POST",body:t});(await e.json()).success&&await c()}catch(e){console.error("Delete option error:",e)}})(t.id),style:{color:"#b32d2e"}},"Delete"))))):(console.error("Expected array for type:",t,"but got:",a),null)):(0,e.createElement)("p",{style:{textAlign:"center",color:"#666"}},"No options yet. Add one above!")))},o=function(){const{t:o}=function(){const[e,a]=(0,t.useState)("en");(0,t.useEffect)(()=>{r()},[]);const r=async()=>{try{const e=new FormData;e.append("action","rms_get_settings"),e.append("nonce",window.rmsAdmin.nonce);const t=await fetch(window.rmsAdmin.ajaxUrl,{method:"POST",body:e}),n=await t.json();n.success&&n.data.admin_language&&a(n.data.admin_language)}catch(e){console.error("Failed to load language:",e)}};return{t:t=>{const a=t.split(".");let r=n[e];for(const e of a){if(!r||!r[e]){r=n.en;for(const e of a){if(!r||!r[e])return t;r=r[e]}return r}r=r[e]}return r},language:e}}(),[i,l]=(0,t.useState)([]),[d,s]=(0,t.useState)([]),[c,m]=(0,t.useState)(!1),[p,g]=(0,t.useState)(!1),[u,y]=(0,t.useState)(null),[x,b]=(0,t.useState)(null),[f,_]=(0,t.useState)(null),[E,w]=(0,t.useState)(!1),[h,v]=(0,t.useState)({name:"",description:"",price:"",discounted_price:"",allergens:"",category:"",image:""}),[k,S]=(0,t.useState)({type:"",text:""});(0,t.useEffect)(()=>{C(),A()},[]),(0,t.useEffect)(()=>{if(k.text){const e=setTimeout(()=>{S({type:"",text:""})},3e3);return()=>clearTimeout(e)}},[k]);const C=async()=>{m(!0);const e=new FormData;e.append("action","rms_get_menu_items"),e.append("nonce",window.rmsAdmin.nonce);try{const t=await fetch(window.rmsAdmin.ajaxUrl,{method:"POST",body:e}),a=await t.json();a.success?l(a.data):console.error("Failed to load items:",a)}catch(e){console.error("Load error:",e),S({type:"error",text:"Error loading menu items"})}m(!1)},A=async()=>{const e=new FormData;e.append("action","rms_get_categories"),e.append("nonce",window.rmsAdmin.nonce);try{const t=await fetch(window.rmsAdmin.ajaxUrl,{method:"POST",body:e}),a=await t.json();a.success?s(a.data):console.error("Failed to load categories:",a)}catch(e){console.error("Categories load error:",e)}},B=e=>{y(e.id),v({name:e.name,description:e.description,price:e.price,discounted_price:e.discounted_price||"",allergens:e.allergens||"",category:e.category||"",image:e.image||""}),g(!0),window.scrollTo({top:0,behavior:"smooth"})},T=async e=>{if(!confirm("Are you sure you want to delete this item?"))return;m(!0);const t=new FormData;t.append("action","rms_delete_menu_item"),t.append("nonce",window.rmsAdmin.nonce),t.append("id",e);try{const e=await fetch(window.rmsAdmin.ajaxUrl,{method:"POST",body:t});(await e.json()).success?(S({type:"success",text:"Menu item deleted successfully!"}),await C()):S({type:"error",text:"Failed to delete menu item"})}catch(e){console.error("Delete error:",e),S({type:"error",text:"Error deleting menu item"})}m(!1)};return(0,e.createElement)("div",{style:{maxWidth:"1200px",margin:"20px auto",padding:"0 20px"}},(0,e.createElement)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"30px"}},(0,e.createElement)("h1",{style:{margin:0}},o("menu_items.title")),!p&&(0,e.createElement)("button",{className:"button button-primary",onClick:()=>g(!0),disabled:c},o("menu_items.add_new_item"))),k.text&&(0,e.createElement)("div",{style:{padding:"12px 20px",marginBottom:"20px",borderRadius:"4px",background:"success"===k.type?"#d4edda":"#f8d7da",color:"success"===k.type?"#155724":"#721c24",border:"1px solid "+("success"===k.type?"#c3e6cb":"#f5c6cb")}},k.text),p&&(0,e.createElement)("div",{style:{background:"white",padding:"25px",borderRadius:"8px",boxShadow:"0 2px 8px rgba(0,0,0,0.1)",marginBottom:"30px"}},(0,e.createElement)("h2",{style:{marginTop:0}},u?o("common.edit")+" "+o("menu_items.title"):o("menu_items.add_new_item")),(0,e.createElement)("div",{style:{marginBottom:"20px"}},(0,e.createElement)("label",{style:{display:"block",marginBottom:"8px",fontWeight:"bold"}},o("menu_items.item_name")," *"),(0,e.createElement)("input",{type:"text",className:"regular-text",value:h.name,onChange:e=>v({...h,name:e.target.value}),placeholder:"e.g., Margherita Pizza",style:{width:"100%",padding:"8px"}})),(0,e.createElement)("div",{style:{marginBottom:"20px"}},(0,e.createElement)("label",{style:{display:"block",marginBottom:"8px",fontWeight:"bold"}},o("common.description")),(0,e.createElement)("textarea",{className:"large-text",value:h.description,onChange:e=>v({...h,description:e.target.value}),placeholder:"Describe the item...",rows:"4",style:{width:"100%",padding:"8px"}})),(0,e.createElement)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"20px",marginBottom:"20px"}},(0,e.createElement)("div",null,(0,e.createElement)("label",{style:{display:"block",marginBottom:"8px",fontWeight:"bold"}},"Regular Price * ðŸ’µ"),(0,e.createElement)("input",{type:"number",step:"0.01",className:"regular-text",value:h.price,onChange:e=>v({...h,price:e.target.value}),placeholder:"0.00",style:{width:"100%",padding:"8px"}})),(0,e.createElement)("div",null,(0,e.createElement)("label",{style:{display:"block",marginBottom:"8px",fontWeight:"bold"}},"Discounted Price ðŸ·ï¸ ",(0,e.createElement)("span",{style:{color:"#999",fontWeight:"normal",fontSize:"13px"}},"(Optional)")),(0,e.createElement)("input",{type:"number",step:"0.01",className:"regular-text",value:h.discounted_price,onChange:e=>v({...h,discounted_price:e.target.value}),placeholder:"Leave empty for no discount",style:{width:"100%",padding:"8px"}}))),(0,e.createElement)("div",{style:{marginBottom:"20px"}},(0,e.createElement)("label",{style:{display:"block",marginBottom:"8px",fontWeight:"bold"}},o("menu_items.category")),(0,e.createElement)("select",{className:"regular-text",value:h.category,onChange:e=>v({...h,category:e.target.value}),style:{width:"100%",padding:"8px"}},(0,e.createElement)("option",{value:""},o("menu_items.select_category")),d.sort((e,t)=>(e.display_order||0)-(t.display_order||0)).map(t=>(0,e.createElement)("option",{key:t.id,value:t.id},t.name)))),(0,e.createElement)("div",{style:{marginBottom:"20px"}},(0,e.createElement)("label",{style:{display:"block",marginBottom:"8px",fontWeight:"bold"}},o("menu_items.allergens")),(0,e.createElement)("input",{type:"text",className:"regular-text",value:h.allergens,onChange:e=>v({...h,allergens:e.target.value}),placeholder:"e.g., Gluten, Dairy, Nuts",style:{width:"100%",padding:"8px"}})),(0,e.createElement)("div",{style:{marginBottom:"20px"}},(0,e.createElement)("label",{style:{display:"block",marginBottom:"8px",fontWeight:"bold"}},o("menu_items.item_image")),h.image&&(0,e.createElement)("div",{style:{marginBottom:"10px"}},(0,e.createElement)("img",{src:h.image,alt:"Preview",style:{maxWidth:"200px",borderRadius:"8px"}}),(0,e.createElement)("button",{type:"button",className:"button",onClick:()=>v({...h,image:""}),style:{display:"block",marginTop:"5px"}},o("menu_items.remove_image"))),(0,e.createElement)("input",{type:"file",accept:"image/*",onChange:async e=>{const t=e.target.files[0];if(!t)return;if(!t.type.startsWith("image/"))return void S({type:"error",text:"Please select an image file"});if(t.size>5242880)return void S({type:"error",text:"Image size must be less than 5MB"});w(!0);const a=new FormData;a.append("action","rms_upload_image"),a.append("nonce",window.rmsAdmin.nonce),a.append("image",t);try{const e=await fetch(window.rmsAdmin.ajaxUrl,{method:"POST",body:a}),t=await e.json();t.success?(v(e=>({...e,image:t.data.url})),S({type:"success",text:"Image uploaded successfully!"})):S({type:"error",text:t.data||"Failed to upload image"})}catch(e){console.error("Upload error:",e),S({type:"error",text:"Error uploading image. Please try again."})}finally{w(!1),e.target.value=""}},disabled:E,style:{display:"block"}}),E&&(0,e.createElement)("p",{style:{color:"#666",fontSize:"13px",marginTop:"5px"}},"Uploading image...")),(0,e.createElement)("div",{style:{display:"flex",gap:"10px"}},(0,e.createElement)("button",{className:"button button-primary",onClick:async()=>{if(!h.name.trim())return void S({type:"error",text:"Item name is required"});m(!0);const e=new FormData;e.append("action","rms_save_menu_item"),e.append("nonce",window.rmsAdmin.nonce),e.append("name",h.name),e.append("description",h.description),e.append("price",h.price),e.append("discounted_price",h.discounted_price),e.append("allergens",h.allergens),e.append("category",h.category),e.append("image",h.image),u&&e.append("id",u);try{const t=await fetch(window.rmsAdmin.ajaxUrl,{method:"POST",body:e}),a=await t.json();a.success?(S({type:"success",text:"Menu item saved successfully!"}),g(!1),v({name:"",description:"",price:"",discounted_price:"",allergens:"",category:"",image:""}),y(null),await C()):S({type:"error",text:a.data||"Failed to save menu item"})}catch(e){console.error("Save error:",e),S({type:"error",text:"Error saving menu item"})}m(!1)},disabled:c||E},o(c?"common.saving":"common.save")),(0,e.createElement)("button",{className:"button",onClick:()=>{g(!1),y(null),v({name:"",description:"",price:"",discounted_price:"",allergens:"",category:"",image:""})},disabled:c},o("common.cancel")))),(0,e.createElement)("div",{style:{background:"white",borderRadius:"8px",boxShadow:"0 2px 8px rgba(0,0,0,0.1)",padding:"20px"}},c&&0===i.length?(0,e.createElement)("div",{style:{padding:"40px",textAlign:"center",color:"#666"}},"Loading menu items..."):0===i.length?(0,e.createElement)("div",{style:{padding:"40px",textAlign:"center",color:"#666"}},'No menu items yet. Click "Add New Item" to create one.'):(0,e.createElement)(e.Fragment,null,d.sort((e,t)=>(e.display_order||0)-(t.display_order||0)).map(t=>{const a=i.filter(e=>e.category===t.id);return 0===a.length?null:(0,e.createElement)("div",{key:t.id,style:{marginBottom:"40px"}},(0,e.createElement)("h2",{style:{fontSize:"24px",color:"#2271b1",marginBottom:"20px",paddingBottom:"10px",borderBottom:"2px solid #2271b1"}},t.name," (",a.length,")"),(0,e.createElement)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(300px, 1fr))",gap:"20px"}},a.map(t=>(0,e.createElement)("div",{key:t.id,style:{padding:"20px",border:"1px solid #ddd",borderRadius:"8px",background:"#fafafa"}},t.image&&(0,e.createElement)("img",{src:t.image,alt:t.name,style:{width:"100%",height:"200px",objectFit:"cover",borderRadius:"8px",marginBottom:"15px"}}),(0,e.createElement)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"start",marginBottom:"10px"}},(0,e.createElement)("h3",{style:{margin:0,fontSize:"18px"}},t.name),(0,e.createElement)("span",{style:{fontSize:"11px",background:"#2271b1",color:"white",padding:"3px 8px",borderRadius:"10px"}},t.category_name)),(0,e.createElement)("p",{style:{color:"#666",fontSize:"14px",marginBottom:"10px"}},t.description||"No description"),(0,e.createElement)("div",null,t.discounted_price&&parseFloat(t.discounted_price)>0?(0,e.createElement)(e.Fragment,null,(0,e.createElement)("div",{style:{fontSize:"14px",color:"#999",textDecoration:"line-through",marginBottom:"5px"}},"$",parseFloat(t.price).toFixed(2)),(0,e.createElement)("div",{style:{display:"flex",alignItems:"center",gap:"8px"}},(0,e.createElement)("span",{style:{fontSize:"22px",fontWeight:"bold",color:"#e74c3c"}},"$",parseFloat(t.discounted_price).toFixed(2)),(0,e.createElement)("span",{style:{fontSize:"11px",fontWeight:"bold",background:"linear-gradient(135deg, #e74c3c 0%, #c0392b 100%)",color:"white",padding:"4px 10px",borderRadius:"12px",boxShadow:"0 2px 6px rgba(231, 76, 60, 0.3)"}},Math.round((t.price-t.discounted_price)/t.price*100),"% OFF"))):(0,e.createElement)("div",{style:{fontSize:"20px",fontWeight:"bold",color:"#27ae60"}},"$",parseFloat(t.price).toFixed(2))),t.allergens&&(0,e.createElement)("div",{style:{marginTop:"10px",padding:"8px",background:"#fff3cd",borderRadius:"4px",fontSize:"12px"}},"Allergens: ",t.allergens),(0,e.createElement)("div",{style:{display:"flex",gap:"8px",marginTop:"15px",paddingTop:"15px",borderTop:"1px solid #ddd"}},(0,e.createElement)("button",{className:"button button-small",onClick:()=>B(t),disabled:c},o("common.edit")),(0,e.createElement)("button",{className:"button button-small",onClick:()=>b(t),disabled:c,style:{background:"#667eea",color:"white"}},"ðŸŒ ",o("common.translate")),(0,e.createElement)("button",{className:"button button-small",onClick:()=>_(t),disabled:c,style:{background:"#f59e0b",color:"white"}},"âš™ï¸ Options"),(0,e.createElement)("button",{className:"button button-small button-link-delete",onClick:()=>T(t.id),disabled:c,style:{color:"#b32d2e"}},o("common.delete")))))))}),i.filter(e=>!e.category).length>0&&(0,e.createElement)("div",{style:{marginBottom:"40px"}},(0,e.createElement)("h2",{style:{fontSize:"24px",color:"#999",marginBottom:"20px",paddingBottom:"10px",borderBottom:"2px solid #ddd"}},"Uncategorized (",i.filter(e=>!e.category).length,")"),(0,e.createElement)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(300px, 1fr))",gap:"20px"}},i.filter(e=>!e.category).map(t=>(0,e.createElement)("div",{key:t.id,style:{padding:"20px",border:"1px solid #ddd",borderRadius:"8px",background:"#fafafa"}},t.image&&(0,e.createElement)("img",{src:t.image,alt:t.name,style:{width:"100%",height:"200px",objectFit:"cover",borderRadius:"8px",marginBottom:"15px"}}),(0,e.createElement)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"start",marginBottom:"10px"}},(0,e.createElement)("h3",{style:{margin:0,fontSize:"18px"}},t.name)),(0,e.createElement)("p",{style:{color:"#666",fontSize:"14px",marginBottom:"10px"}},t.description||"No description"),(0,e.createElement)("div",null,t.discounted_price&&parseFloat(t.discounted_price)>0?(0,e.createElement)(e.Fragment,null,(0,e.createElement)("div",{style:{fontSize:"14px",color:"#999",textDecoration:"line-through",marginBottom:"5px"}},"$",parseFloat(t.price).toFixed(2)),(0,e.createElement)("div",{style:{display:"flex",alignItems:"center",gap:"8px"}},(0,e.createElement)("span",{style:{fontSize:"22px",fontWeight:"bold",color:"#e74c3c"}},"$",parseFloat(t.discounted_price).toFixed(2)),(0,e.createElement)("span",{style:{fontSize:"11px",fontWeight:"bold",background:"linear-gradient(135deg, #e74c3c 0%, #c0392b 100%)",color:"white",padding:"4px 10px",borderRadius:"12px",boxShadow:"0 2px 6px rgba(231, 76, 60, 0.3)"}},Math.round((t.price-t.discounted_price)/t.price*100),"% OFF"))):(0,e.createElement)("div",{style:{fontSize:"20px",fontWeight:"bold",color:"#27ae60"}},"$",parseFloat(t.price).toFixed(2))),t.allergens&&(0,e.createElement)("div",{style:{marginTop:"10px",padding:"8px",background:"#fff3cd",borderRadius:"4px",fontSize:"12px"}},"Allergens: ",t.allergens),(0,e.createElement)("div",{style:{display:"flex",gap:"8px",marginTop:"15px",paddingTop:"15px",borderTop:"1px solid #ddd"}},(0,e.createElement)("button",{className:"button button-small",onClick:()=>B(t),disabled:c},o("common.edit")),(0,e.createElement)("button",{className:"button button-small",onClick:()=>b(t),disabled:c,style:{background:"#667eea",color:"white"}},"ðŸŒ ",o("common.translate")),(0,e.createElement)("button",{className:"button button-small button-link-delete",onClick:()=>T(t.id),disabled:c,style:{color:"#b32d2e"}},o("common.delete"))))))))),x&&(0,e.createElement)(a,{item:x,onClose:()=>b(null)}),f&&(0,e.createElement)(r,{item:f,onClose:()=>_(null)}))},i=document.getElementById("rms-admin-root");i&&(0,t.createRoot)(i).render((0,e.createElement)(o,null))})();